<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>python summary | konng</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/favicon.png">
    <link rel="mask-icon" href="/icons/favicon.png" color="#3eaf7c">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta property="og:url" content="https://fengwei2002.github.io">
    <meta property="og:site_name" content="konng0120">
    <meta property="og:description" content="konng0120">
    <meta property="og:title" content="konng0120">
    <meta name="theme-color" content="#222222">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/favicon.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.bd8c9d8c.css" as="style"><link rel="preload" href="/assets/js/app.e3ee48fe.js" as="script"><link rel="preload" href="/assets/js/10.50509e61.js" as="script"><link rel="preload" href="/assets/js/57.d3eb7511.js" as="script"><link rel="prefetch" href="/assets/js/1.e0cdf686.js"><link rel="prefetch" href="/assets/js/11.689d0b05.js"><link rel="prefetch" href="/assets/js/12.dbc1a530.js"><link rel="prefetch" href="/assets/js/13.e6e75471.js"><link rel="prefetch" href="/assets/js/14.f1756993.js"><link rel="prefetch" href="/assets/js/15.c83a2170.js"><link rel="prefetch" href="/assets/js/16.e9acbfe7.js"><link rel="prefetch" href="/assets/js/17.aaf97648.js"><link rel="prefetch" href="/assets/js/18.d9e8ecc0.js"><link rel="prefetch" href="/assets/js/19.5b9f1b9f.js"><link rel="prefetch" href="/assets/js/20.771c497d.js"><link rel="prefetch" href="/assets/js/21.c9c54555.js"><link rel="prefetch" href="/assets/js/22.6435c381.js"><link rel="prefetch" href="/assets/js/23.d3751101.js"><link rel="prefetch" href="/assets/js/24.6385ec97.js"><link rel="prefetch" href="/assets/js/25.7742a5c6.js"><link rel="prefetch" href="/assets/js/26.e49bcdac.js"><link rel="prefetch" href="/assets/js/27.8d9f3091.js"><link rel="prefetch" href="/assets/js/28.569681dc.js"><link rel="prefetch" href="/assets/js/29.e8561a32.js"><link rel="prefetch" href="/assets/js/30.056ea6ce.js"><link rel="prefetch" href="/assets/js/31.9486f205.js"><link rel="prefetch" href="/assets/js/32.67a0aeab.js"><link rel="prefetch" href="/assets/js/33.40218f17.js"><link rel="prefetch" href="/assets/js/34.16cb96c1.js"><link rel="prefetch" href="/assets/js/35.bba85569.js"><link rel="prefetch" href="/assets/js/36.6f1919b4.js"><link rel="prefetch" href="/assets/js/37.0edd3667.js"><link rel="prefetch" href="/assets/js/38.4196ac36.js"><link rel="prefetch" href="/assets/js/39.e42383f3.js"><link rel="prefetch" href="/assets/js/4.c76c4d16.js"><link rel="prefetch" href="/assets/js/40.c21789aa.js"><link rel="prefetch" href="/assets/js/41.deed44c7.js"><link rel="prefetch" href="/assets/js/42.396fad6c.js"><link rel="prefetch" href="/assets/js/43.2ccc80d1.js"><link rel="prefetch" href="/assets/js/44.8b65a7b4.js"><link rel="prefetch" href="/assets/js/45.330dab9c.js"><link rel="prefetch" href="/assets/js/46.5817b560.js"><link rel="prefetch" href="/assets/js/47.3b5c092c.js"><link rel="prefetch" href="/assets/js/48.cb7c474a.js"><link rel="prefetch" href="/assets/js/49.b86edb62.js"><link rel="prefetch" href="/assets/js/5.0fe3a716.js"><link rel="prefetch" href="/assets/js/50.caee2321.js"><link rel="prefetch" href="/assets/js/51.af38eab5.js"><link rel="prefetch" href="/assets/js/52.e29ceaf4.js"><link rel="prefetch" href="/assets/js/53.b5b4c369.js"><link rel="prefetch" href="/assets/js/54.d328aa1a.js"><link rel="prefetch" href="/assets/js/55.59221ad0.js"><link rel="prefetch" href="/assets/js/56.da2cdba8.js"><link rel="prefetch" href="/assets/js/58.ce6ffd16.js"><link rel="prefetch" href="/assets/js/59.7c7d5924.js"><link rel="prefetch" href="/assets/js/6.bb30b401.js"><link rel="prefetch" href="/assets/js/60.382b1609.js"><link rel="prefetch" href="/assets/js/61.5fda5a65.js"><link rel="prefetch" href="/assets/js/62.6e5d6c29.js"><link rel="prefetch" href="/assets/js/63.0c4cda2a.js"><link rel="prefetch" href="/assets/js/64.98583ad8.js"><link rel="prefetch" href="/assets/js/65.3b041eeb.js"><link rel="prefetch" href="/assets/js/66.8a0f0288.js"><link rel="prefetch" href="/assets/js/67.f23961b9.js"><link rel="prefetch" href="/assets/js/68.d4fa0266.js"><link rel="prefetch" href="/assets/js/69.e6caa0a8.js"><link rel="prefetch" href="/assets/js/7.0d555774.js"><link rel="prefetch" href="/assets/js/70.d7562331.js"><link rel="prefetch" href="/assets/js/71.8199f090.js"><link rel="prefetch" href="/assets/js/72.ae50587d.js"><link rel="prefetch" href="/assets/js/73.a9d7dbdf.js"><link rel="prefetch" href="/assets/js/74.2a979ca7.js"><link rel="prefetch" href="/assets/js/75.b7f8c267.js"><link rel="prefetch" href="/assets/js/76.dceef0ad.js"><link rel="prefetch" href="/assets/js/77.3e29be9c.js"><link rel="prefetch" href="/assets/js/78.6ac96822.js"><link rel="prefetch" href="/assets/js/79.eaf87b57.js"><link rel="prefetch" href="/assets/js/8.688f92f4.js"><link rel="prefetch" href="/assets/js/80.aa9ca7bf.js"><link rel="prefetch" href="/assets/js/81.1748fa43.js"><link rel="prefetch" href="/assets/js/82.720482df.js"><link rel="prefetch" href="/assets/js/83.13c48392.js"><link rel="prefetch" href="/assets/js/84.04f378d5.js"><link rel="prefetch" href="/assets/js/85.ca5734ab.js"><link rel="prefetch" href="/assets/js/86.a51256f1.js"><link rel="prefetch" href="/assets/js/87.6be5eb69.js"><link rel="prefetch" href="/assets/js/88.07f39023.js"><link rel="prefetch" href="/assets/js/89.3b2eb35d.js"><link rel="prefetch" href="/assets/js/9.9a13968c.js"><link rel="prefetch" href="/assets/js/90.58e6c8dd.js"><link rel="prefetch" href="/assets/js/91.17cc99a1.js"><link rel="prefetch" href="/assets/js/92.830395bc.js"><link rel="prefetch" href="/assets/js/93.011467b6.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.af2762a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bd8c9d8c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(https://s2.loli.net/2022/02/16/pa8cMOXlbjYABTI.png);" data-v-7a046aea><div data-v-e4145d0a data-v-7a046aea><nav class="navbar" data-v-e4145d0a><div class="container" data-v-e4145d0a><a href="/" class="router-link-active" data-v-e4145d0a><span class="navbar-site-name" data-v-e4145d0a>
          konng
        </span></a> <div class="navbar-toggler" data-v-e4145d0a><svg class="icon" style="font-size:1.2em;" data-v-e4145d0a data-v-e4145d0a><title data-v-e4145d0a data-v-e4145d0a>menu</title><use xlink:href="#icon-menu" data-v-e4145d0a data-v-e4145d0a></use></svg></div> <div class="navbar-links" data-v-e4145d0a><a href="/" class="navbar-link" data-v-e4145d0a>
            Home
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-e4145d0a>
            Posts
          </a><a href="https://notef.vercel.app/" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-e4145d0a><span data-v-e4145d0a>notef</span> <span data-v-e4145d0a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://wikif.vercel.app/" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-e4145d0a><span data-v-e4145d0a>wikif</span> <span data-v-e4145d0a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-e4145d0a></div></div> <div class="banner" data-v-98d6aa8c data-v-7a046aea data-v-7a046aea><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-7a046aea>
          python summary
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-4dd605a1 data-v-4dd605a1><main class="main" data-v-4dd605a1><div class="post" data-v-4dd605a1 data-v-4dd605a1><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      Created : 2022-08-20
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2022/05/23/javascriptkit.html" class="post-link" data-v-4e23451f>
      Previous Post : JavaScript Kit
    </a> <a href="/posts/2023/02/17/nizx87.html" class="post-link" data-v-4e23451f>
      Next Post : 宁芝 x87 三模说明书
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><h2 id="数据类型转换"><a href="#数据类型转换" class="header-anchor">#</a> 数据类型转换</h2> <ul><li><code>int(x, [, base])</code> : 将 x 转换为整数， base 表示进制</li> <li><code>float(x)</code> : 将 x 转换为一个浮点数</li> <li><code>complex(x, [, imag])</code>  创建一个复数，imag 是虚部的数值</li> <li><code>str(x)</code> : 将对象 x 转换为字符串</li> <li><code>repr(x)</code> : 将对象 x 转换为表达式字符串</li> <li><code>eval(str)</code> : 计算在字符串中有效的表达式，并返回一个对象</li> <li><code>tuple(s)</code> : 将序列 s 转换为一个元组</li> <li><code>list(s)</code> : 将序列 s 转换为一个列表</li> <li><code>set(s)</code> : 转换为一个可变的集合</li> <li><code>dict(d)</code> : 创建一个字典，d 是一个 key,value 元组</li> <li><code>frozenset(s)</code> : 转换为不可变集合</li> <li><code>chr(x)</code> : 将一个整数转换为一个字符</li> <li><code>ord(x)</code> : 将一个字符转换为他的整数值</li> <li><code>hex(x)</code> : 将一个整数转换为一个十六进制字符串</li> <li><code>oct(x)</code> : 将一个整数转换为一个八进制字符串</li></ul> <h2 id="list-列表"><a href="#list-列表" class="header-anchor">#</a> list 列表</h2> <p><a href="https://docs.python.org/zh-cn/3/tutorial/datastructures.html#more-on-lists" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>列表常见方法</p> <div class="language-python extra-class"><pre class="language-python"><code>a<span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         等价于 a<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span> 
a<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>iterable<span class="token punctuation">)</span>  使用可迭代对象的元素扩展指定列表 
a<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>i<span class="token punctuation">,</span> x<span class="token punctuation">)</span>      在指定位置插入对象 insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> 
a<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>x<span class="token punctuation">)</span>         从列表中删除第一个值为 x 的元素，找不到触发 ValueError
a<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  删除列表中的指定位置的元素，没有指定的时候删除最后一个元素，并返回
a<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>   删除列表中的所有元素 等价于 <span class="token keyword">del</span> a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>index<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">[</span>start <span class="token punctuation">[</span><span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 返回指定序列中第一个值是 x 的索引
a<span class="token punctuation">.</span>count<span class="token punctuation">(</span>x<span class="token punctuation">)</span>  返回列表中元素 x 出现的次数 
a<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span> 翻转列表中的所有元素 
</code></pre></div><blockquote><p>init list</p></blockquote> <p>开辟指定大小的 list</p> <p><code>path = [0 for i in range(n)]</code></p> <p>开辟指定大小的 bool list</p> <p><code>used = [False for i in range(n)]</code></p> <p>开辟 n * m 的全零 list</p> <p><code>ans = [[0 for j in range(m)] for i in range(n)]</code></p> <p>应该使用匿名函数无副作用的计算平方列表</p> <div class="language-python extra-class"><pre class="language-python"><code>squares <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
squares <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="tuple-元组"><a href="#tuple-元组" class="header-anchor">#</a> tuple 元组</h2> <p>元组写在小括号中，不能修改元素</p> <p>创建只有一个元素的元组需要在结尾添加一个逗号</p> <div class="language-py extra-class"><pre class="language-py"><code>t1 <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
t2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
t3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
t4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
</code></pre></div><p>对于函数中的多返回值，返回的就是一个元组</p> <ul><li><code>count(x)</code>  计算某一个元素出现的次数</li> <li><code>index(x)</code>  寻找某一个元素第一次出现的索引位置</li></ul> <h2 id="set-集合"><a href="#set-集合" class="header-anchor">#</a> set 集合</h2> <p>集合是由<strong>不重复元素</strong>组成的<strong>无序</strong>容器。基本用法包括成员检测、消除重复元素。集合对象支持合集、交集、差集、对称差分等数学运算</p> <p>创建集合用花括号或  <code>set()</code>  函数。注意，创建空集合只能用  <code>set()</code> ，不能用  <code>{}</code> ， <code>{}</code>  创建的是空字典</p> <p>使用推导式进行创建：</p> <div class="language-python extra-class"><pre class="language-python"><code>a <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'abracadabra'</span> <span class="token keyword">if</span> x <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token string">'abc'</span><span class="token punctuation">}</span>
a
<span class="token punctuation">{</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">}</span> 
</code></pre></div><p>常用操作：</p> <div class="language-py extra-class"><pre class="language-py"><code>s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'dd'</span><span class="token punctuation">)</span> 
s1<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span> s1<span class="token punctuation">.</span>update<span class="token punctuation">(</span>s2<span class="token punctuation">)</span> 
s3<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 随机删除一个元素 </span>
s3<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span> 
s3<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'fengwei'</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>issubset<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># 判断 b 是否是 a 的子集</span>
a<span class="token punctuation">.</span>union<span class="token punctuation">(</span>c<span class="token punctuation">)</span>    <span class="token comment"># a 和 c 的并集</span>
a <span class="token operator">&amp;</span> c         <span class="token comment"># 交集 </span>
a<span class="token punctuation">.</span>difference<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment"># 只在 a 中的元素 </span>
a <span class="token operator">^</span> c         <span class="token comment"># 求只在一个集合中的所有元素 </span>
</code></pre></div><h2 id="queue-队列"><a href="#queue-队列" class="header-anchor">#</a> queue 队列</h2> <p>规矩：使用  <code>collections</code>  中的  <code>deque</code></p> <p>返回一个新的双向队列对象，在队列两端插入或删除元素时间复杂度都是  <code>O(1)</code>  ，区别于列表，在列表的开头插入或删除元素的时间复杂度为  <code>O(N)</code>  。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque
queue <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span>
queue<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span><span class="token string">&quot;leftElement&quot;</span><span class="token punctuation">)</span>
queue<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># popleft , 同时将删除的值返回</span>
queue<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 移除所有元素</span>
queue<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 创建一份浅拷贝</span>
queue<span class="token punctuation">.</span>count<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment"># 计算队列中等于 x 的个数</span>
queue<span class="token punctuation">.</span>extend<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 添加到队列的右侧</span>
queue<span class="token punctuation">.</span>extendleft<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 添加到队列的左侧</span>
queue<span class="token punctuation">.</span>index<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">[</span>start<span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token comment"># 在 start 之后，stop 之前返回第一个 x 在 deque 中的位置</span>
insert<span class="token punctuation">(</span>i<span class="token punctuation">,</span> x<span class="token punctuation">)</span> 
<span class="token comment"># 在位置 i 插入 x </span>
pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 移除最右侧的那一个</span>
reverse<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 将队列逆序 </span>
rotate<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 向右循环移动 n 步。 如果 n 是负数，就向左循环。</span>
</code></pre></div><p>使用队列实现保留最后 N 个元素</p> <p>使用  <code>deque(maxlen=N)</code>   构造函数会新建一个固定大小的队列。当新的元素加入并且这个队列已满的时候， 最老的元素会自动被移除掉。</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q <span class="token operator">=</span> deque<span class="token punctuation">(</span>maxlen<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q
deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> maxlen<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q
deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> maxlen<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> q
deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> maxlen<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="heap-堆"><a href="#heap-堆" class="header-anchor">#</a> heap 堆</h2> <p>创建一个堆</p> <div class="language-py extra-class"><pre class="language-py"><code>heap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
heap <span class="token operator">=</span> heapify<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
heappush<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> item<span class="token punctuation">)</span> 
<span class="token comment"># 将 item 的值加入到 heap 中</span>
heappop<span class="token punctuation">(</span>heap<span class="token punctuation">)</span>   
<span class="token comment"># 弹出并返回 heap 的最小的元素，保持堆的不变性。</span>
<span class="token comment"># 使用 heap[0] ，可以只访问最小的元素而不弹出它。</span>
heappushpop<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> item<span class="token punctuation">)</span> 
<span class="token comment"># 将 item 放入堆中，然后弹出并返回 heap 的最小元素。</span>
<span class="token comment"># 该组合操作比先调用 heappush() 再调用 heappop() 运行起来更有效率。</span>
heapreplace<span class="token punctuation">(</span>heap<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
<span class="token comment"># 弹出并返回 heap 中最小的一项，同时推入新的 item。 堆的大小不变。</span>
<span class="token comment"># 返回的值可能会比添加的 item 更大</span>
nlargest<span class="token punctuation">(</span>n<span class="token punctuation">,</span> iterable<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
<span class="token comment"># 从 iterable 所定义的数据集中返回前 n 个最大元素组成的列表。 </span>
nsmallest<span class="token punctuation">(</span>n<span class="token punctuation">,</span> iterable<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
<span class="token comment"># 从 iterable 所定义的数据集中返回前 n 个最小元素组成的列表。</span>
<span class="token comment"># 这两个函数在 n 值较小时性能最好。 </span>
<span class="token comment"># 对于更大的值，使用 sorted() 函数会更有效率。 </span>
<span class="token comment"># 此外，当 n==1 时，使用内置的 min() 和 max() 函数会更有效率。 </span>
<span class="token comment"># 如果需要重复使用这些函数，请考虑将可迭代对象转为真正的堆。 </span>
<span class="token comment"># 或者使用 sorted(items)[:N], sorted(items)[-N:]</span>
</code></pre></div><p>使用：查找最大的或者最小的 N 个元素</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> heapq 
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.</span> <span class="token number">4.</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>heapq<span class="token punctuation">.</span>nlargest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>heapq<span class="token punctuation">.</span>nsmallest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre></div><p>再添加匿名函数参数对于复杂的结构使用 heap</p> <div class="language-python extra-class"><pre class="language-python"><code>laptops <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'ThinkPad'</span><span class="token punctuation">,</span> <span class="token string">'amount'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'price'</span><span class="token punctuation">:</span> <span class="token number">91.1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Mac'</span><span class="token punctuation">,</span>      <span class="token string">'amount'</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>  <span class="token string">'price'</span><span class="token punctuation">:</span> <span class="token number">543.22</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Surface'</span><span class="token punctuation">,</span>  <span class="token string">'amount'</span><span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">'price'</span><span class="token punctuation">:</span> <span class="token number">21.09</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Alienwar'</span><span class="token punctuation">,</span> <span class="token string">'amount'</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span>  <span class="token string">'price'</span><span class="token punctuation">:</span> <span class="token number">31.75</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Lenovo'</span><span class="token punctuation">,</span>   <span class="token string">'amount'</span><span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>  <span class="token string">'price'</span><span class="token punctuation">:</span> <span class="token number">16.35</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Huawei'</span><span class="token punctuation">,</span>   <span class="token string">'amount'</span><span class="token punctuation">:</span> <span class="token number">75</span><span class="token punctuation">,</span>  <span class="token string">'price'</span><span class="token punctuation">:</span> <span class="token number">115.65</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
cheap <span class="token operator">=</span> heapq<span class="token punctuation">.</span>nsmallest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> laptops<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> s<span class="token punctuation">:</span> s<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
expensive <span class="token operator">=</span> heapq<span class="token punctuation">.</span>nlargest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> laptops<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> s<span class="token punctuation">:</span> s<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>实现优先级队列：</p> <details class="showmore"><summary>SHOWMORE</summary> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> heapq
<span class="token keyword">class</span> <span class="token class-name">PriorityQueue</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>_index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">push</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> priority<span class="token punctuation">)</span><span class="token punctuation">:</span>
        heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_queue<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">-</span>priority<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_index<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 负数的目的是使得元素按照优先级从高到低进行排序，添加 self._index 实现不可能有两个元素具有相同的 index 值</span>
        <span class="token comment"># python 在做元组比较的时候，如果前面的比较已经可以确定结果了，后面的比较操作就不会发生了</span>
        self<span class="token punctuation">.</span>_index <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment"># 保证第一个元素拥有最高的优先级</span>
    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> heapq<span class="token punctuation">.</span>heappop<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_queue<span class="token punctuation">)</span>
        <span class="token comment"># 每次弹出 最小的元素 return heapq.heappop(self._queue)[-1]</span>
<span class="token keyword">class</span> <span class="token class-name">Item</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'Item({!r})'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
q <span class="token operator">=</span> PriorityQueue<span class="token punctuation">(</span><span class="token punctuation">)</span>
q<span class="token punctuation">.</span>push<span class="token punctuation">(</span>Item<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
q<span class="token punctuation">.</span>push<span class="token punctuation">(</span>Item<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
q<span class="token punctuation">.</span>push<span class="token punctuation">(</span>Item<span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
q<span class="token punctuation">.</span>push<span class="token punctuation">(</span>Item<span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Item('2')</span>
<span class="token comment"># Item('3')</span>
<span class="token comment"># Item('1')</span>
<span class="token comment"># Item('4')</span>
</code></pre></div></details> <p>heap 自定义排序，重写  <code>__lt__</code>  方法</p> <details class="showmore"><summary>SHOWMORE</summary> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> heapq
<span class="token keyword">class</span> <span class="token class-name">P</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> a
        self<span class="token punctuation">.</span>b <span class="token operator">=</span> b
    <span class="token keyword">def</span> <span class="token function">__lt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>b<span class="token operator">&lt;</span>other<span class="token punctuation">.</span>b<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    <span class="token keyword">def</span> <span class="token function">p</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>a<span class="token punctuation">,</span>self<span class="token punctuation">.</span>b<span class="token punctuation">)</span>
a <span class="token operator">=</span> P<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> P<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> P<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> P<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
h <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>h<span class="token punctuation">,</span>a<span class="token punctuation">)</span>
heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>h<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
heapq<span class="token punctuation">.</span>heappush<span class="token punctuation">(</span>h<span class="token punctuation">,</span>c<span class="token punctuation">)</span>
heapq<span class="token punctuation">.</span>heappop<span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">.</span>p<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">10</span> <span class="token number">0</span>
</code></pre></div></details> <h2 id="hash-哈希表"><a href="#hash-哈希表" class="header-anchor">#</a> hash 哈希表</h2> <p><code>dict</code>  和  <code>defaultdict</code>  还有  <code>collections.Counter</code>  三个的用法</p> <h3 id="dict-字典"><a href="#dict-字典" class="header-anchor">#</a> dict 字典</h3> <ul><li>字典是默认的 python 数据类型使用  <code>{}</code>  进行标识，是一个无序的  <code>key-value</code>  集合</li> <li>key 必须是不可变类型，使用  <code>hash(x)</code>  来判断 x 是否是一个可变的数据类型</li> <li>同一个字典中  <code>key</code>  必须是唯一的</li></ul> <p>创建方法：</p> <div class="language-py extra-class"><pre class="language-py"><code>大括号形式
dict1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'python'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span> 
使用内置方法 <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
dict2 <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'p'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span> 
使用字典推导式
dict3 <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">}</span> 
</code></pre></div><p>常用的三个方法  <code>keys()</code> ,  <code>values()</code> ,  <code>items()</code>  分别代表键，值，对<br>
直接使用  <code>list(dict)</code>  得到的是一个包含所有 key 的列表</p> <div class="language-py extra-class"><pre class="language-py"><code>修改和访问：
dict1 <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dict1<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span>
dict1<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">&quot;fengwei&quot;</span><span class="token punctuation">)</span>
遍历：
<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> dict1<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
访问某一个键：
<span class="token keyword">print</span><span class="token punctuation">(</span>dict1<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dict1<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
删除某一个键：
dict1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span> 
<span class="token keyword">del</span> dict1<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span> 
清空
dict1<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span> 
合并两个字典 
dict1<span class="token punctuation">.</span>update<span class="token punctuation">(</span>dict2<span class="token punctuation">)</span>
</code></pre></div><h3 id="counter"><a href="#counter" class="header-anchor">#</a> Counter</h3> <p>本身用于统计给定的变量对象的次数</p> <div class="language-py extra-class"><pre class="language-py"><code>word_counter <span class="token operator">=</span> Counter<span class="token punctuation">(</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>word_count_dist<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 输出出现次数最多的 10 个单词 </span>
c <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>elements<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 忽略小于 1 的</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span>
</code></pre></div><p>如果存在两个 counter 可以使用 substract 来进行减法操作</p> <div class="language-py extra-class"><pre class="language-py"><code>c <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span>subtract<span class="token punctuation">(</span>d<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token comment"># Counter({'a': 3, 'b': 0, 'c': -3, 'd': -6})</span>
</code></pre></div><p>还有以下方法</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># 求和</span>
<span class="token builtin">sum</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment"># 清空 Counter</span>
c<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>                      
<span class="token comment"># 转换为 列表</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>                         
<span class="token comment"># 转换为 集合</span>
<span class="token builtin">set</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>                          
<span class="token comment"># 转换为 字典</span>
<span class="token builtin">dict</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>                        
<span class="token comment"># 键值对</span>
c<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span>                       
<span class="token comment"># 返回非零正数</span>
<span class="token operator">+</span>c      
<span class="token comment"># 返回负数</span>
<span class="token operator">-</span>c
<span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter
c <span class="token operator">=</span> Counter<span class="token punctuation">(</span>cats<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> flower<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> dogs<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 输出出现频次最小的 2 个 key-value 对</span>
</code></pre></div><h3 id="defaultdict"><a href="#defaultdict" class="header-anchor">#</a> defaultdict</h3> <p>因为 Counter 的问题是数值必须是整数，本身就是用来拥挤数量，因此如果需要的 value 是字符串，列表，或者元组，就不能使用 Counter 了</p> <p>defaultdict 相比于 dict 的最大的区别就是可以设置默认的数值，即便 key 不存在</p> <div class="language-py extra-class"><pre class="language-py"><code>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'fruit'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 
d <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span> 
<span class="token comment"># d = defaultdict(set) </span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> s<span class="token punctuation">:</span> 
    d<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>v<span class="token punctuation">)</span> 
    <span class="token comment"># d[k].add(v) </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> 
</code></pre></div><h2 id="string-字符串"><a href="#string-字符串" class="header-anchor">#</a> string 字符串</h2> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">r&quot;origin string&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;\
Usage: thing [OPTIONS]
     -h                        Display this usage message
     -H hostname               Hostname to connect to
    &quot;&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>还有这个连接的规则：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'py'</span>
      <span class="token string">'thon'</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="string-常见操作"><a href="#string-常见操作" class="header-anchor">#</a> string 常见操作</h3> <ul><li><code>strip(x)</code>  当包含参数 x 表示删除句首或句末 x 的部分，否则就是删除举手和句末的空白字符。可以根据需要调用  <code>lstrip()</code>  和  <code>rstrip()</code>  分别删除句首或句末的空白字符</li> <li><code>split() rsplit()</code> <br> <code>str.split(str=&quot;&quot;, num=string.count(str))</code> <ul><li>str – 分隔符，默认为所有的空字符，包括空格、换行 (\n)、制表符 (\t) 等。</li> <li>num – 分割次数。<br>
返回分割之后的字符串列表<br> <code>splitlines()</code>  以换行为分割符进行分割，默认参数是 False，True 参数代表结果中保留换行符（靠左保留）。</li></ul></li> <li><code>join()</code> <br> <code>'sep'.join(seq)</code> <ul><li>sep：分隔符。可以为空</li> <li>seq：要连接的元素序列、字符串、元组、字典<br>
返回值：返回一个以分隔符 sep 连接各个元素后生成的字符串</li></ul></li> <li><code>replace(old, new[, max])</code> <br>
 将 old 替换为 new ，不超过 max 次</li> <li><code>index()</code> <br>
 查找指定字符串的起始位置</li> <li><code>startwith() / endwith()</code> <br>
 分别判断字符串是否以某个字符串为开始，或者结束</li> <li><code>find()</code> <br>
 返回最左端的索引，找不到返回 -1， 可以指定范围 start, end</li> <li><code>upper() * lower()</code> <br> <code>swapcase(), isspace(), isdigit(), isalpha(), isalnum(), isupper(), islower()</code></li></ul> <h2 id="fuction"><a href="#fuction" class="header-anchor">#</a> fuction</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot; fib function 
    function document rule
    &quot;&quot;&quot;</span>
    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>
    <span class="token keyword">while</span> a <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>
        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b
</code></pre></div><h3 id="arguments-函数参数"><a href="#arguments-函数参数" class="header-anchor">#</a> arguments 函数参数</h3> <p>参数传递规则: (python 中的一切都是对象)</p> <ul><li><p>如果传递的参数是不可变类型，类似于 cpp 中的值传递，传递的只是 a 的值，没有影响 a 对象本身的状态</p></li> <li><p>如果传递的参数是可变的类型，例如一个 list, dict 那么就是类似于 cpp 中的引用传递，修改之后外部的 list, dict 也会受到影响</p></li> <li><p>位置参数</p></li></ul> <p>位置参数必须按照正确的顺序传入函数中，调用的时候的数量必须和声明的时候相同<br>
不加任何修饰符</p> <ul><li>默认参数</li></ul> <p>添加  <code>=v</code>  的修饰，表示默认参数，在定义函数的时候事先赋予一个默认的数值，调用函数的时候可以不需要传递值给默认参数</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">function_name</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token operator">=</span>v<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;docstring&quot;&quot;&quot;</span>
    statement
</code></pre></div><ul><li>可变参数</li></ul> <p>使用  <code>*</code>  进行修饰，就是输入参数的数量可以 是从 0 个到 任意多个，他们会自动组装为元组装入被修饰的变量</p> <ul><li>关键字参数</li></ul> <p>使用  <code>**</code>  进行修饰，和可变参数类似，不同的是，不会自动组装为一个元组，而是组装为一个字典</p> <p>传入方式:</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">print_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">178</span><span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
print_info<span class="token punctuation">(</span><span class="token string">'fengwei'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">188</span><span class="token punctuation">,</span> <span class="token string">'c++'</span><span class="token punctuation">,</span> <span class="token string">'python'</span><span class="token punctuation">,</span> birth<span class="token operator">=</span><span class="token string">'2002/01/20'</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token number">145</span><span class="token punctuation">)</span>
keyword<span class="token punctuation">:</span>  <span class="token punctuation">{</span><span class="token string">'birth'</span><span class="token punctuation">:</span> <span class="token string">'2002/01/20'</span><span class="token punctuation">,</span> <span class="token string">'weight'</span><span class="token punctuation">:</span> <span class="token number">145</span><span class="token punctuation">}</span>
</code></pre></div><ul><li>命名关键字参数</li></ul> <p>使用  <code>*,nkw</code>  修饰这个参数的作用是限制调用者可以传递的参数名字</p> <h3 id="装饰器"><a href="#装饰器" class="header-anchor">#</a> 装饰器</h3> <blockquote><p>内裤可以用来遮羞，但是到了冬天它没法为我们防风御寒，聪明的人们发明了长裤，有了长裤后宝宝再也不冷了，装饰器就像我们这里说的长裤，在不影响内裤作用的前提下，给我们的身子提供了保暖的功效。</p></blockquote> <p>装饰器本质上是一个 Python 函数，它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，装饰器的返回值也是一个函数对象。它经常用于有切面需求的场景，比如：插入日志、性能测试、事务处理、缓存、权限校验等场景。装饰器是解决这类问题的绝佳设计，有了装饰器，我们就可以抽离出大量与函数功能本身无关的雷同代码并继续重用。概括的讲，装饰器的作用就是为已经存在的对象添加额外的功能。</p> <p><a href="https://www.zhihu.com/question/26930016/answer/99243411" target="_blank" rel="noopener noreferrer">如何理解 Python 装饰器？ - 刘志军的回答 - 知乎<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="lambda-function"><a href="#lambda-function" class="header-anchor">#</a> lambda function</h3> <p>basic usage</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">make_lambda</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">+</span> n
f <span class="token operator">=</span> make_lambda<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
f<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>在 sort 中使用 lambda 函数</p> <div class="language-python extra-class"><pre class="language-python"><code>pairs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
pairs<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> pair<span class="token punctuation">:</span> pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>pairs<span class="token punctuation">)</span>
</code></pre></div><h2 id="built-in-function"><a href="#built-in-function" class="header-anchor">#</a> built in function</h2> <p>一些常用的内置函数</p> <h3 id="enumerate"><a href="#enumerate" class="header-anchor">#</a> enumerate()</h3> <p>在序列中循环时，用  <code>enumerate()</code>  函数可以同时取出位置索引和对应的值：</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'tic'</span><span class="token punctuation">,</span> <span class="token string">'tac'</span><span class="token punctuation">,</span> <span class="token string">'toe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">0</span> tic
<span class="token number">1</span> tac
<span class="token number">2</span> toe
</code></pre></div><p>在 enumerate 中添加第二个参数，可以指定具体的下标起始位置</p> <h3 id="zip-解构"><a href="#zip-解构" class="header-anchor">#</a> zip () 解构</h3> <p>同时循环两个或多个序列时，用  <code>zip()</code>  函数可以将其内的元素一一匹配：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> questions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'quest'</span><span class="token punctuation">,</span> <span class="token string">'favorite color'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> answers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'lancelot'</span><span class="token punctuation">,</span> <span class="token string">'the holy grail'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> q<span class="token punctuation">,</span> a <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>questions<span class="token punctuation">,</span> answers<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'What is your {0}?  It is {1}.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
What <span class="token keyword">is</span> your name?  It <span class="token keyword">is</span> lancelot<span class="token punctuation">.</span>
What <span class="token keyword">is</span> your quest?  It <span class="token keyword">is</span> the holy grail<span class="token punctuation">.</span>
What <span class="token keyword">is</span> your favorite color?  It <span class="token keyword">is</span> blue<span class="token punctuation">.</span>
</code></pre></div><p>同时，可以使用  <code>*</code>  作为解构语句的中间变量修饰</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">*</span>trailing<span class="token punctuation">,</span> current <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> trailing
<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> current
<span class="token number">7</span>
</code></pre></div><p>又比如只想要一个列表中的首部和尾部的几个元素，可以使用星号解压语法操作</p> <div class="language-py extra-class"><pre class="language-py"><code>record <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'fw'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">123.45</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">2002</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
name<span class="token punctuation">,</span> <span class="token operator">*</span>_<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span>_<span class="token punctuation">,</span> year<span class="token punctuation">)</span> <span class="token operator">=</span> record 
<span class="token comment"># fw 2002</span>
</code></pre></div><p>例如使用星号解压来实现递归算法</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     head<span class="token punctuation">,</span> <span class="token operator">*</span>tail <span class="token operator">=</span> items
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> head <span class="token operator">+</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>tail<span class="token punctuation">)</span> <span class="token keyword">if</span> tail <span class="token keyword">else</span> head
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span>
<span class="token number">36</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="reverse"><a href="#reverse" class="header-anchor">#</a> reverse()</h3> <p>逆向循环序列时，先正向定位序列，然后调用  <code>reversed()</code>  函数：</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">9</span>
<span class="token number">7</span>
<span class="token number">5</span>
<span class="token number">3</span>
<span class="token number">1</span>
</code></pre></div><h3 id="random"><a href="#random" class="header-anchor">#</a> random()</h3> <p>采用 random 模块可以对一个列表随机采样 n 个元素</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> random
my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span>
num_samples <span class="token operator">=</span> <span class="token number">2</span>
samples <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> num_samples<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>samples<span class="token punctuation">)</span>
<span class="token comment"># [ 'a', 'e'] this will have any 2 random values</span>
</code></pre></div><h3 id="sorted"><a href="#sorted" class="header-anchor">#</a> sorted()</h3> <p>sorted () 都不会改变列表本身的顺序，只是对列表临时排序，并返回一个新的列表对象；</p> <p>相反，列表本身的 sort () 会永久性改变列表本身的顺序。</p> <div class="language-py extra-class"><pre class="language-py"><code>list5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'list5:'</span><span class="token punctuation">,</span> list5<span class="token punctuation">)</span>
<span class="token comment"># use sorted</span>
list6 <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>list5<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'list6=sorted(list5), list5={}, list6={}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>list5<span class="token punctuation">,</span> list6<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># use list.sort()</span>
list5<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'list5.sort(), list5: '</span><span class="token punctuation">,</span> list5<span class="token punctuation">)</span>
</code></pre></div><p>使用 set () 去除序列中的重复元素。使用 sorted () 加 set () 则按排序后的顺序，循环遍历序列中的唯一元素：</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> basket <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> f <span class="token keyword">in</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>basket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
apple
banana
orange
pear
</code></pre></div><p>使用 sorted 不区分大小写安装小写字母从小到大的进行排序</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token string">&quot;This is a test string from Andrew&quot;</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">.</span>lower<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'Andrew'</span><span class="token punctuation">,</span> <span class="token string">'from'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'This'</span><span class="token punctuation">]</span>
</code></pre></div><p>排序结构体：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> student_tuples <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>student_tuples<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> student<span class="token punctuation">:</span> student<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># sort by age</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>使用 operator 模块中的函数</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> operator <span class="token keyword">import</span> itemgetter<span class="token punctuation">,</span> attrgetter
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>student_tuples<span class="token punctuation">,</span> key<span class="token operator">=</span>itemgetter<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>student_objects<span class="token punctuation">,</span> key<span class="token operator">=</span>attrgetter<span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>同 key 的使用方式相同，添加  <code>reverse=True</code>  可以逆序排序</p> <p>排序保证是稳定的</p> <h2 id="io"><a href="#io" class="header-anchor">#</a> IO</h2> <h3 id="input"><a href="#input" class="header-anchor">#</a> input</h3> <p>按照 int 格式输入：</p> <p><code>a = int(input())</code></p> <p>int 数据中间空格分割</p> <p><code>a, b = map(int, input().split(' '))</code></p> <p>读入数组：</p> <p><code>d = list(map(float, input().split(' ')))</code></p> <h3 id="output"><a href="#output" class="header-anchor">#</a> output</h3> <p>C 格式的 print：</p> <p><code>print(&quot;string: %.2lf&quot; % (a))</code></p> <p>输出不换行：</p> <p><code>print(i, end=' ')</code></p> <p>Python 格式的输出：</p> <p><code>print('What is your {0}? It is {1}.'.format(q, a))</code></p> <h2 id="match-关键字"><a href="#match-关键字" class="header-anchor">#</a> match 关键字</h2> <p>after python 3.10 version</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">def</span> <span class="token function">http_error</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">match</span> status<span class="token punctuation">:</span>
        <span class="token keyword">case</span> <span class="token number">400</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;Bad request&quot;</span>
        <span class="token keyword">case</span> <span class="token number">401</span> <span class="token operator">|</span> <span class="token number">403</span> <span class="token operator">|</span> <span class="token number">404</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;Not allowed&quot;</span>
        <span class="token keyword">case</span> <span class="token keyword">_</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;Something's wrong with the internet&quot;</span>
</code></pre></div><p>注意 match 中的  <code>|</code>  操作符和  <code>_</code>  通配符的使用</p> <p>match 在枚举中的使用：</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum
<span class="token keyword">class</span> <span class="token class-name">Color</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
    RED <span class="token operator">=</span> <span class="token string">'red'</span>
    GREEN <span class="token operator">=</span> <span class="token string">'green'</span>
    BLUE <span class="token operator">=</span> <span class="token string">'blue'</span>
color <span class="token operator">=</span> Color<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;Enter your choice of 'red', 'blue' or 'green': &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">match</span> color<span class="token punctuation">:</span>
    <span class="token keyword">case</span> Color<span class="token punctuation">.</span>RED<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;I see red!&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> Color<span class="token punctuation">.</span>GREEN<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Grass is green&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> Color<span class="token punctuation">.</span>BLUE<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;I'm feeling the blues :(&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="class"><a href="#class" class="header-anchor">#</a> class</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">:</span>
    staticVar <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span>
        <span class="token keyword">pass</span>
</code></pre></div><h3 id="repr-和-str"><a href="#repr-和-str" class="header-anchor">#</a> <code>__repr__</code>  和  <code>__str__</code></h3> <p>内置函数  <code>repr()</code>  能够把对象用字符串的形式表达出来<br> <code>repr()</code>  就是通过  <code>__repr__</code>  方法来得到一个对象的字符串表示形式</p> <p>repr 返回的就是正式的字符串的表示，而 stre 返回的是非正式的</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span>   <span class="token comment"># True</span>
<span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span> <span class="token comment"># False</span>
</code></pre></div><h3 id="yield"><a href="#yield" class="header-anchor">#</a> yield</h3> <p>为自定义类添加 迭代器访问：</p> <p>义一个  <code>__iter__()</code>  方法来返回一个带有  <code>__next__()</code>  方法的对象。 如果类已定义了  <code>__next__()</code> ，则  <code>__iter__()</code>  可以简单地返回 self:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Reverse</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;Iterator for looping over a sequence backwards.&quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>data <span class="token operator">=</span> data
        self<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self
    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> StopIteration
        self<span class="token punctuation">.</span>index <span class="token operator">=</span> self<span class="token punctuation">.</span>index <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>self<span class="token punctuation">.</span>index<span class="token punctuation">]</span>
</code></pre></div><p>使用生成器：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">reverse</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        yeild date<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
<span class="token keyword">for</span> char <span class="token keyword">in</span> reverse<span class="token punctuation">(</span><span class="token string">'golf'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span>
</code></pre></div><p>可以用生成器来完成的操作同样可以基于类的迭代器来完成。 但生成器的写法更为紧凑，因为它会自动创建  <code>__iter__()</code>  和  <code>__next__()</code>  方法。</p> <p>生成器表达式：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> xvec <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> yvec <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>x<span class="token operator">*</span>y <span class="token keyword">for</span> x<span class="token punctuation">,</span>y <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>xvec<span class="token punctuation">,</span> yvec<span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token comment"># dot product</span>
<span class="token number">260</span>
</code></pre></div><h2 id="module"><a href="#module" class="header-anchor">#</a> module</h2> <p><code>__name__</code>  可以获取模块名字</p> <p><code>if __name == &quot;__main__&quot;:</code></p> <p>Python 只把含  <code>__init__.py</code>  文件的目录当成包。这样可以防止以  <code>string</code>  等通用名称命名的目录，无意中屏蔽出现在后方模块搜索路径中的有效模块。 最简情况下， <code>__init__.py</code>  只是一个空文件，但该文件也可以执行包的初始化代码，或设置  <code>__all__</code>  变量</p> <p><code>__all__</code>  用来设置使用  <code>from .. import *</code>  时具体导入的函数</p> <div class="language-python extra-class"><pre class="language-python"><code>__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;echo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;surround&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;reverse&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h2 id="技巧"><a href="#技巧" class="header-anchor">#</a> 技巧</h2> <h3 id="sizeof"><a href="#sizeof" class="header-anchor">#</a> sizeof</h3> <p>可以使用 sys.getsizeof () 检查一个对象的内存使用量</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> sys
num <span class="token operator">=</span> <span class="token number">21</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># In Python 2, 24</span>
<span class="token comment"># In Python 3, 28</span>
</code></pre></div><h3 id="计算代码执行时间"><a href="#计算代码执行时间" class="header-anchor">#</a> 计算代码执行时间</h3> <p>采用 time 模块来计算一段代码的执行时间，例子如下：</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> time
start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Code to check follows</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100000000</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment"># a = [0] * 100000000</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># Code to check ends</span>
end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
time_taken_in_micro <span class="token operator">=</span> <span class="token punctuation">(</span>end_time <span class="token operator">-</span> start_time<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">**</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>time_taken_in_micro<span class="token punctuation">,</span> <span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="展平元素为列表的列表"><a href="#展平元素为列表的列表" class="header-anchor">#</a> 展平元素为列表的列表</h3> <p>有时候并确定一个列表中的深度有多深，所以你只想简单的将所有元素都放在一个列表中，实现技巧代码如下所示：</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> iteration_utilities <span class="token keyword">import</span> deepflatten
<span class="token comment"># 列表只有一层深度的情况，采用这个函数</span>
<span class="token keyword">def</span> <span class="token function">flatten</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>item <span class="token keyword">for</span> sublist <span class="token keyword">in</span> l <span class="token keyword">for</span> item <span class="token keyword">in</span> sublist<span class="token punctuation">]</span>
l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>flatten<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [1, 2, 3, 3]</span>
<span class="token comment"># 不知道列表的深度的情况</span>
l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>deepflatten<span class="token punctuation">(</span>l<span class="token punctuation">,</span> depth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre></div><h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <ul><li><a href="https://zhuanlan.zhihu.com/p/72101874" target="_blank" rel="noopener noreferrer">文件和异常<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/73469149" target="_blank" rel="noopener noreferrer">python 中的测试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/80377568" target="_blank" rel="noopener noreferrer">进程和线程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr> <p>参考资料：</p> <ul><li><a href="https://docs.python.org/zh-cn/3/tutorial/" target="_blank" rel="noopener noreferrer">python-doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/index.html" target="_blank" rel="noopener noreferrer">python-cookbook<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="">fluent-python</a></li></ul></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      Created : 2022-08-20
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2022/05/23/javascriptkit.html" class="post-link" data-v-4e23451f>
      Previous Post : JavaScript Kit
    </a> <a href="/posts/2023/02/17/nizx87.html" class="post-link" data-v-4e23451f>
      Next Post : 宁芝 x87 三模说明书
    </a></section></section> <!----></div></main> <aside class="aside" data-v-4dd605a1><div class="info-card main-div" data-v-9d847660 data-v-4dd605a1><div class="info-card-header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(https://cdn.acwing.com/media/article/image/2021/07/10/101476_991fc8bee1-head002.jpg);" data-v-9d847660><img src="https://cdn.acwing.com/media/article/image/2022/11/26/101476_52a1364c6d-1.jpg" alt="konng" class="info-avatar" data-v-9d847660></div> <div class="info-card-body" data-v-9d847660><section class="info-nickname" data-v-9d847660>
      konng
    </section> <section class="info-desc" data-v-9d847660>Waiting is a lost art.</section> <section class="info-contact" data-v-9d847660><section data-v-9d847660><span title="Tai'Yuan, Shan'Xi, China" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>Tai'Yuan, Shan'Xi, China</title><use xlink:href="#icon-location" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          Tai'Yuan, Shan'Xi, China
        </span></span></section> <section data-v-9d847660><span title="Shan'Xi University" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>Shan'Xi University</title><use xlink:href="#icon-organization" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          Shan'Xi University
        </span></span></section> <section data-v-9d847660><a href="mailto:konng0120@gmail.com" title="konng0120@gmail.com" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>konng0120@gmail.com</title><use xlink:href="#icon-email" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          konng0120@gmail.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-9d847660><section class="info-sns clearfix" data-v-9d847660><a href="https://github.com/fengwei2002" target="_blank" class="sns-link" data-v-9d847660><span title="GitHub: fengwei2002" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>GitHub: fengwei2002</title><use xlink:href="#icon-github" data-v-9d847660 data-v-9d847660></use></svg></span></a><a href="https://www.zhihu.com/people/e2df61ca5f33cb1e72e27be2cefd18ba" target="_blank" class="sns-link" data-v-9d847660><span title="知乎: kycu" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>知乎: kycu</title><use xlink:href="#icon-zhihu" data-v-9d847660 data-v-9d847660></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-4dd605a1><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>Table of Contents</span> <div class="post-nav-toc"><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#数据类型转换">数据类型转换</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#list-列表">list 列表</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#tuple-元组">tuple 元组</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#set-集合">set 集合</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#queue-队列">queue 队列</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#heap-堆">heap 堆</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#hash-哈希表">hash 哈希表</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#dict-字典">dict 字典</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#counter">Counter</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#defaultdict">defaultdict</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#string-字符串">string 字符串</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#string-常见操作">string 常见操作</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#fuction">fuction</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#arguments-函数参数">arguments 函数参数</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#装饰器">装饰器</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#lambda-function">lambda function</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#built-in-function">built in function</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#enumerate">enumerate()</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#zip-解构">zip() 解构</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#reverse">reverse()</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#random">random()</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#sorted">sorted()</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#io">IO</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#input">input</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#output">output</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#match-关键字">match 关键字</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#class">class</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#repr-和-str">__repr__ 和 __str__</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#yield">yield</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#module">module</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#技巧">技巧</a><ul><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#sizeof">sizeof</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#计算代码执行时间">计算代码执行时间</a></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#展平元素为列表的列表">展平元素为列表的列表</a></li></ul></li><li><a href="/posts/2022/08/20/_01python%E7%89%B9%E6%80%A7.html#其他">其他</a></li></ul></div></div> <!----></div></aside></div> <footer class="footer" data-v-1375e54c><p class="footer-sns-links" data-v-1375e54c><a href="https://github.com/fengwei2002" target="_blank" class="sns-link" data-v-1375e54c><span title="GitHub: fengwei2002" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>GitHub: fengwei2002</title><use xlink:href="#icon-github" data-v-1375e54c data-v-1375e54c></use></svg></span></a><a href="https://www.zhihu.com/people/e2df61ca5f33cb1e72e27be2cefd18ba" target="_blank" class="sns-link" data-v-1375e54c><span title="知乎: kycu" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>知乎: kycu</title><use xlink:href="#icon-zhihu" data-v-1375e54c data-v-1375e54c></use></svg></span></a></p> <!----> <!----></footer></div><div class="global-ui"><!----><!----><APlayer audio="" fixed="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="3" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div id="goTop" class="hide-cat" data-v-bf92849a></div><!----><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.e3ee48fe.js" defer></script><script src="/assets/js/10.50509e61.js" defer></script><script src="/assets/js/57.d3eb7511.js" defer></script>
  </body>
</html>
